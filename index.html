<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTalk - Stranger Chat</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Header actions (theme + share button) */
    .header-actions {
      margin-left: auto;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .header-actions button {
      border: none;
      background: #eaeaea;
      border-radius: 50%;
      width: 38px;
      height: 38px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: 0.2s;
    }
    .header-actions button:hover {
      background: #d0d0d0;
    }
    .header-actions svg {
      width: 20px;
      height: 20px;
    }

    /* Dark mode */
    body.dark {
      background: #121212;
      color: white;
    }
    body.dark .header-actions button {
      background: #333;
      color: white;
    }
    body.dark .header-actions button:hover {
      background: #444;
    }
  </style>
</head>
<body>
  <header>
    <img src="assets/logo.svg" alt="TikTalk Logo" class="logo" />
    <div class="header-actions">
      <!-- Theme Toggle -->
      <button id="theme-toggle" title="Toggle Theme">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 3a9 9 0 000 18 9 9 0 000-18zm0 16a7 7 0 110-14 7 7 0 010 14z"/>
        </svg>
      </button>

      <!-- Share Button -->
      <button id="share-btn" title="Share">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
          <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 
          12.7a3.3 3.3 0 000-1.39l7.02-4.11A2.99 2.99 
          0 0018 7.91a3 3 0 10-2.99-3.42l-7.02 4.1a3 
          3 0 100 4.82l7.02 4.11A3 3 0 1018 16.08z"/>
        </svg>
      </button>
    </div>
  </header>

  <main id="chat">
    <div id="messages"></div>
  </main>

  <p style="text-align: center; margin-top: 20px;">Made in India ♥️</p>

  <footer>
    <textarea id="messageInput" placeholder="Type a message..."></textarea>
    <button id="sendBtn">Send</button>
    <button id="nextBtn">Next</button>
  </footer>

  <script>window.TIKTALK_BACKEND = "https://tiktalk-server.onrender.com";</script>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="app.js"></script>

  <footer>
    &copy; Copyright 2025-<script>document.write(new Date().getFullYear())</script> TikTalk. All rights reserved.
  </footer>

  <script>
    // Theme toggle
    document.getElementById("theme-toggle").addEventListener("click", () => {
      document.body.classList.toggle("dark");
    });

    // Share button (native)
    document.getElementById("share-btn").addEventListener("click", async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: "TikTalk - Stranger Chat",
            text: "Join me on TikTalk Stranger Chat!",
            url: window.location.href
          });
        } catch (err) {
          console.log("Share canceled:", err);
        }
      } else {
        // Fallback (copy link)
        navigator.clipboard.writeText(window.location.href);
        alert("Link copied to clipboard!");
      }
    });
  </script>
</body>
</html>
